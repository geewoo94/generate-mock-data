{"version":3,"sources":["App.tsx","utils/generate.ts","index.tsx"],"names":["JSONEditor","value","setValue","style","width","height","onChange","e","currentTarget","placeholder","Models","models","handleAddModel","handleRemoveModel","handleChangeModelName","handleChangeModelValue","display","flexDirection","alignItems","zIndex","type","onClick","map","model","gap","name","id","Generate","onGenerate","margin","GenerateField","readOnly","JSON","stringify","App","useState","nanoid","json","setJson","setModels","generatedValue","setGeneratedValue","className","justifyContent","result","parsers","callback","Math","floor","random","currentDate","dayjs","toDate","getTime","prevSevenDate","date","Date","toISOString","forEach","push","parse","i","parser","regexArray","RegExp","regexObject","test","replace","_","p1","Number","length","generate","err","message","modelId","filter","position","bottom","right","href","ReactDOM","render","StrictMode","document","getElementById"],"mappings":"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","file":"static/js/main.71731ce2.chunk.js","sourcesContent":["import { useState } from \"react\";\nimport { nanoid } from 'nanoid';\n\nimport { generate } from './utils/generate';\nimport { Model } from './type';\n\nconst JSONEditor = ({ value, setValue }: { value: string, setValue: (value: string) => void }) => {\n  return (\n    <div>\n      <h1>JSON</h1>\n      <textarea\n        style={{ width: 400, height: 400 }}\n        value={value}\n        onChange={(e) => setValue(e.currentTarget.value)}\n        placeholder=\"Type your json\"\n      />\n    </div>\n  );\n}\n\nconst Models = (\n  {\n    models,\n    handleAddModel,\n    handleRemoveModel,\n    handleChangeModelName,\n    handleChangeModelValue,\n  }:\n  {\n    models: Model[],\n    handleAddModel: () => void,\n    handleRemoveModel: (id: string) => void,\n    handleChangeModelName: (id: string, value: string) => void,\n    handleChangeModelValue: (id: string, value: string) => void,\n  }) => {\n  return (\n    <div style={{ display: 'flex', flexDirection: 'column', alignItems: 'center', width: 500, zIndex: 1 }}>\n      <button type=\"button\" onClick={handleAddModel} style={{ width: 200, height: 50 }}>Add Model</button>\n      {models.map(model => {\n        return (\n          <div key={model.id} style={{ display: 'flex', flexDirection: 'column', gap: 10 }}>\n            <h2>Model - {model.name}</h2>\n            <input\n              placeholder=\"model name\"\n              onChange={(e) => handleChangeModelName(model.id, e.currentTarget.value)}\n              style={{ height: 40 }}\n            />\n            <textarea\n              placeholder=\"Type your json\"\n              style={{ width: 350, height: 250 }}\n              value={model.value}\n              onChange={(e) => handleChangeModelValue(model.id, e.currentTarget.value)}\n            />\n            <button type=\"button\" onClick={() => handleRemoveModel(model.id)}>REMOVE!</button>\n          </div>\n        );\n      })}\n    </div>\n  );\n};\n\nconst Generate = ({ onGenerate }: { onGenerate: () => void }) => {\n  return (\n    <button type=\"button\" onClick={onGenerate} style={{ margin: 10, height: 40 }}>Generate!</button>\n  )\n}\n\nconst GenerateField = ({ value }: { value: string }) => {\n  return (\n    <textarea readOnly style={{ height: 400 }} value={JSON.stringify(value, null, 2)} />\n  );\n}\n\nconst App = () => {\n  const [json, setJson] = useState<Model>({ id: nanoid(), name: '@JSON', value: ''});\n  const [models, setModels] = useState<Model[]>([]);\n  const [generatedValue, setGeneratedValue] = useState('')\n\n  const handleGenerate = () => {\n    const result = generate(json, models);\n\n    try {\n      setGeneratedValue(JSON.parse(result));\n    } catch (err) {\n      setGeneratedValue(err.message);\n    }\n  }\n\n  const handleSetJson = (value: string) => {\n    setJson({\n      ...json,\n      value,\n    });\n  };\n\n  const handleAddModel = () => {\n    setModels([\n      ...models,\n      {\n        id: nanoid(12),\n        name: '',\n        value: '',\n      }\n    ]);\n  };\n\n  const handleRemoveModel = (modelId: string) => {\n    setModels((models) => {\n      return models.filter((model) => model.id !== modelId)\n    })\n  }\n\n  const handleChangeModelName = (modelId: string, name: string) => {\n    setModels((models) => {\n      return models.map((model) => {\n        if (model.id === modelId) {\n          return {\n            id: model.id,\n            name,\n            value: model.value\n          };\n        }\n\n        return model;\n      });\n    });\n  }\n\n  const handleChangeModelValue = (modelId: string, value: string) => {\n    setModels((models) => {\n      return models.map((model) => {\n        if (model.id === modelId) {\n          return {\n            id: model.id,\n            name: model.name,\n            value,\n          };\n        }\n\n        return model;\n      });\n    });\n  };\n\n  return (\n    <div className=\"App\" style={{ display: 'flex', justifyContent: 'center' }}>\n      <div>\n        <JSONEditor\n          value={json.value}\n          setValue={handleSetJson}\n        />\n        <div style={{ display: 'flex', flexDirection: 'column', gap: 10 }}>\n          <Generate onGenerate={handleGenerate}/>\n          <GenerateField value={generatedValue}/>\n        </div>\n      </div>\n      <Models\n        models={models}\n        handleAddModel={handleAddModel}\n        handleRemoveModel={handleRemoveModel}\n        handleChangeModelName={handleChangeModelName}\n        handleChangeModelValue={handleChangeModelValue}\n      />\n      <div style={{ position: 'fixed', bottom: 20, right: 30, width: 50, height: 30 }}>\n        <a href=\"https://github.com/geewoo94/generate-mock-data\">GITHUB</a>\n      </div>\n    </div>\n  );\n};\n\nexport default App;\n","import { nanoid } from 'nanoid';\nimport dayjs from 'dayjs';\n\nimport { Model } from '../type';\n\nexport const generate = (json: Model, models: Model[]) => {\n  const parsers = [\n    {\n      name: 'RANDOM_STRING',\n      callback: (value: number = 12) => `\"${nanoid(value)}\"`,\n    },\n    {\n      name: 'RANDOM_NUMBER',\n      callback: (value: number = 10) => `${Math.floor(Math.random() * value)}`,\n    },\n    {\n      name: 'RANDOM_DATE',\n      callback: (value: number = -7) => {\n        const currentDate = dayjs().toDate().getTime();\n        const prevSevenDate = dayjs().date(value).toDate().getTime();\n        return `\"${(new Date(prevSevenDate + Math.random() * (currentDate - prevSevenDate))).toISOString()}\"`;\n      }\n    }\n  ];\n\n  models.forEach((model) => {\n    parsers.push({\n      name: model.name,\n      callback: (value: number = 0) => {\n        if (value === 0) {\n          return parse(model);\n        }\n\n        let result = '';\n\n        for (let i = 0; i < value; i++) {\n          if (i === 0) result += '[';\n\n          result += parse(model);\n          if (i < value - 1) result += ',';\n          if (i === value - 1) result += ']';\n        }\n\n        return result;\n      }\n    })\n  });\n\n  return parse(json);\n\n  function parse(model: Model) {\n    let result = model.value;\n\n    for (let i = 0; i < parsers.length; i++) {\n      const parser = parsers[i];\n      const regexArray = new RegExp(`${parser.name}\\\\((\\\\-?\\\\d+)\\\\)`, 'g');\n      const regexObject = new RegExp(`${parser.name}\\\\(\\\\)`, 'g');\n\n      if (regexObject.test(model.value)) {\n        result = result.replace(regexObject, () => {\n          return parser.callback();\n        })\n      }\n\n      if (regexArray.test(model.value)) {\n        result = result.replace(regexArray, (_, p1: string) => {\n          return parser.callback(Number(p1));\n        });\n      }\n    }\n\n    return result;\n  }\n};\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport App from './App';\nimport './index.css';\n\nReactDOM.render(\n  <React.StrictMode>\n    <App />\n  </React.StrictMode>,\n  document.getElementById('root')\n);\n"],"sourceRoot":""}